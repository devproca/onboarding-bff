<div class="container">
  <h1 class="font-bold text-xl">User</h1>
  <form [formGroup]="userFormGroup" class="mb-3">
    <div class="formGroupContainer">
      <label>First name</label>
      <input class="input" [ngClass]="{'error-input' : userFormGroup.get('firstName').errors && (
     userFormGroup.get('firstName').touched || userFormGroup.get('firstName').dirty)}" formControlName="firstName">
      <span class="error-label" *ngIf=" (userFormGroup.get('firstName').errors && (
     userFormGroup.get('firstName').touched || userFormGroup.get('firstName').dirty))">First name required</span>
    </div>
    <div class="formGroupContainer">
      <label>Last name</label>
      <input class="input" [ngClass]="{'error-input' : userFormGroup.get('lastName').errors && (
     userFormGroup.get('lastName').touched || userFormGroup.get('lastName').dirty)}" formControlName="lastName">
      <span class="error-label" *ngIf=" (userFormGroup.get('lastName').errors && (
     userFormGroup.get('lastName').touched || userFormGroup.get('lastName').dirty))">Last name required</span>
    </div>
    <div class="formGroupContainer">
      <label>User name</label>
      <input class="input" [ngClass]="{'error-input' : userFormGroup.get('username').errors && (
     userFormGroup.get('username').touched || userFormGroup.get('username').dirty)}" formControlName="username">
      <span class="error-label" *ngIf=" (userFormGroup.get('username').errors && (
     userFormGroup.get('username').touched || userFormGroup.get('username').dirty))">Minimum length 8</span>
    </div>
    <div formArrayName="phoneNumbers"
         *ngFor="let phone of userFormGroup.get('phoneNumbers')['controls']; let i = index;">
      <div [formGroupName]="i" class="formGroupContainer">
        <label class="mb-1">Phone number
          <button class="rounded bg-blue-400 text-white px-1 hover:bg-red-300"
                  (click)="deleteNumber(i)">delete
          </button>
        </label>
        <input formControlName="phoneNumber" [ngClass]="{'error-input' : phone.get('phoneNumber').errors && (
     phone.get('phoneNumber').touched)}" class="input">
        <span class="error-label" *ngIf=" (phone.get('phoneNumber').errors && (
     phone.get('phoneNumber').touched))">Invalid phone number</span>
      </div>
    </div>
    <button class="btnclass-accept mb-10" (click)="addPhoneNumber()">Add Phone Number</button>
  </form>
  <span class="error-label mb-5" *ngIf="numberRequired">A phone number is required</span>
  <span class="error-label mb-5" *ngIf="numberInUse">A entered phone number is in use</span>


  <div class="flex">
    <a class="btnclass-cancel mr-5" (click)="cancel()">Cancel</a>
    <a class="btnclass-accept ml-5" (click)="save()">Save</a>
  </div>

</div>

